[package]
authors = ["Tom Houl√© <tom@tomhoule.com>"]
categories = ["network-programming", "web-programming", "wasm"]
description = "Typed GraphQL requests and responses"
edition = "2018"
keywords = ["graphql", "api", "web", "webassembly", "wasm"]
license = "Apache-2.0 OR MIT"
name = "graphql_client"
repository = "https://github.com/graphql-rust/graphql-client"
version = "0.9.0"

[dependencies]
anyhow = {version = "1.0", optional = true}
doc-comment = "^0.3"
graphql_query_derive = {path = "../graphql_query_derive", version = "0.9.0"}
reqwest = {version = "0.10.7", optional = true}
serde = {version = "^1.0.78", features = ["derive"]}
serde_json = "1.0"
thiserror = {version = "1.0", optional = true}

[dependencies.futures]
optional = true
version = "^0.1"

[dependencies.js-sys]
optional = true
version = "^0.3"

[dependencies.log]
optional = true
version = "^0.4"

[dependencies.web-sys]
features = [
  "Headers",
  "Request",
  "RequestInit",
  "Response",
  "Window",
]
optional = true
version = "^0.3"

[dependencies.wasm-bindgen]
optional = true
version = "^0.2"

[dependencies.wasm-bindgen-futures]
optional = true
version = "^0.4"

[dev-dependencies]
# Note: If we bumpup wasm-bindge-test version, we should change CI setting.
wasm-bindgen-test = "^0.3"

[target.'cfg(not(target_arch = "wasm32"))'.dev-dependencies]
tokio = {version = "^0.2", features = ["rt-threaded", "macros"]}

[features]
default = ["http"]
http = ["reqwest"]
web = ["http"]
